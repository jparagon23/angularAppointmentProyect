<div class="container mx-auto p-8 bg-gray-50 rounded-xl shadow-xl max-w-4xl">
  <!-- Título de la sección -->
  <div
    class="text-3xl sm:text-4xl font-semibold text-center text-gray-800 mb-6 sm:mb-10"
  >
    Publicar Resultado
  </div>

  <div class="mb-6 sm:mb-8">
    <label
      for="match-date"
      class="block text-lg sm:text-xl font-medium text-gray-700 mb-3"
    >
      Fecha del Partido
    </label>
    <app-date-selector
      [initialDate]="matchDate"
      [minDate]="'1900-01-01'"
      [maxDate]="'2100-12-31'"
      (dateSelected)="onDateChange($event)"
    ></app-date-selector>
  </div>

  <!-- Sección del Jugador 1 -->
  <div class="mb-6 sm:mb-8">
    <!-- Foto de perfil -->
    <app-user-card
      [user]="{
        name: (player1?.name || '') + ' ' + (player1?.lastname || ''),
        image: player1?.profileImage || '',
        index: 1
      }"
      [winner]="winner === 'player1'"
      (removeUser)="removePlayer($event)"
    ></app-user-card>
  </div>

  <!-- Sección de sets y games -->
  <div class="flex justify-center mb-6 sm:mb-8">
    <app-set-result-component
      (resultEmitter)="handleResult($event)"
    ></app-set-result-component>
  </div>

  <!-- Sección de búsqueda y selección del Jugador 2 -->
  <div class="mb-6 sm:mb-8">
    <div *ngIf="!player2" class="p-6 bg-white rounded-lg shadow-md">
      <label
        for="search-player"
        class="block text-lg sm:text-xl font-medium text-gray-700 mb-3"
      >
        Buscar Jugador 2
      </label>

      <div class="mb-4 sm:mb-6">
        <app-user-search-list
          (userReturn)="onUserSelected($event)"
          [allowCreateUser]="false"
          [filterUserStatus]="[2]"
        ></app-user-search-list>
      </div>
    </div>

    <!-- Mostrar tarjeta del Jugador 2 cuando se selecciona -->
    <div *ngIf="player2" class="mt-6 sm:mt-8">
      <app-user-card
        [user]="{
          name: player2.name || '',
          image: player2.image || '',
          index: 2
        }"
        [winner]="winner === 'player2'"
        (removeUser)="removePlayer($event)"
        [allowDelete]="true"
      ></app-user-card>
    </div>
  </div>

  <!-- Botón para publicar el resultado -->
  <div class="flex justify-center mt-6 sm:mt-8">
    <button
      class="px-8 py-3 sm:px-10 sm:py-4 rounded-lg shadow-lg text-lg sm:text-xl transition-all duration-300 text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"
      [disabled]="!canPublishResult"
      (click)="publishResult()"
    >
      Publicar Resultado
    </button>
  </div>

  <div class="flex justify-center mt-4">
    <button
      class="px-8 py-3 sm:px-10 sm:py-4 rounded-lg shadow-lg text-lg sm:text-xl transition-all duration-300 text-white bg-red-600 hover:bg-red-700"
      [mat-dialog-close]="true"
    >
      Cancelar
    </button>
  </div>
</div>
